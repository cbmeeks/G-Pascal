<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>editor</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/G-Pascal/G-Pascal.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">G-Pascal Editor</h1>
</header>
<p><strong>Author</strong>: Nick Gammon</p>
<p><strong>Date</strong>: February 2022</p>
<div class="quick_link">
<a href="index.htm">Back to main G-Pascal page</a>
</div>
<div class="quick_link">
<a href="file_menu.htm">Loading and saving</a>
</div>
<p>The inbuilt text editor is designed to allow you to try out small programs, and make modifications “on the fly” without having to download or upload code from your “main” computer.</p>
<h2 id="editor-commands">Editor commands</h2>
<p>The editor is available from the main “shell” prompt. Type <strong>H</strong> to see a list of editor commands:</p>
<pre><code>Available actions:

List/SAve   line_number_range
Delete      line_number_range
Insert/LOad after_line
Find        line_number_range /target/flags
Replace     line_number_range /target/replacement/flags

Help
INfo
Memory first_address last_address
Compile/Syntax/Assemble
RUn/DEBug/Trace
RECover
(Actions may be abbreviated)
(Flags: &#39;I&#39;gnore case, &#39;G&#39;lobal, &#39;Q&#39;uiet)</code></pre>
<p>You can assemble, compile (Pascal) or do a (Pascal) syntax check directly from the prompt (type <strong>A</strong>, <strong>C</strong> or <strong>S</strong>).</p>
<p>The editor is line-based with each line having a number, automatically assigned. These numbers can be used to delete, insert, list, modify, find or replace. You need to press ENTER to have a command processed. Make sure you have “local echo” on in your terminal program (eg. miniterm) so that you can see your typing.</p>
<p>Commands have a line number range (if omitted, they affect all lines). For example to list lines 1 to 10:</p>
<pre><code>L1-10</code></pre>
<p>You may put spaces after the action, and between the line numbers if giving a range. You can also use a hyphen or comma to separate line numbers, e.g.</p>
<pre><code>LIST 1-10
LIST 1 10
LIST 1, 10</code></pre>
<p>Actions may be abbreviated. The minimal amount to type is in upper case, so “L” would be LIST and not LOAD, and “S” would be SYNTAX and not SAVE.</p>
<p>As a shortcut, the command R on its own will be interpreted as Run (not Replace) as Replace would always need a delimiter after it.</p>
<hr />
<h2 id="delete">Delete</h2>
<p>Use DELETE to delete a range of lines (you cannot use DELETE on its own to delete the entire source). If you want to delete <em>everything</em> type “delete all” (or “d all”).</p>
<hr />
<h2 id="find">Find</h2>
<p>Use FIND to find a string. The string delimiter can be any single character which is not a letter, number or space. This is intended to help you find lines with certain words on them. For example:</p>
<pre><code>F .procedure.</code></pre>
<p>The matching lines will be shown, with their line numbers, so you could do a List of around that spot.</p>
<p>You may put options after the second delimiter as follows:</p>
<ul>
<li>G - global: find multiple occurrences on one line (this affects the number of matches reported)</li>
<li>I - ignore case: match on both upper and lower-case versions of the target string</li>
<li>Q - quiet: do not show matching lines, just show the count of matches</li>
</ul>
<p>For example:</p>
<pre><code>F 1, 100 /begin/giq</code></pre>
<p>That would search for “begin” between lines 1 and 100, and report on the number of occurrences, case insensitive. The lines would not be listed.</p>
<pre><code>F 20 - 999 /begin/</code></pre>
<p>That would list all lines with “begin” on them between lines 20 and 999 (or the end of the file, whichever came sooner).</p>
<hr />
<h2 id="insert">Insert</h2>
<p>Use INSERT to insert new lines. Use <strong>I</strong> on its own to insert right at the start of the source. Otherwise if you give a line number the inserted lines will appear after that line. To cancel inserting, press <strong>Esc</strong>.</p>
<p><strong>WARNING</strong>: If you attempt to insert multiple lines very quickly your source will be corrupted. In particular, this will happen if you go into Insert mode and then paste a whole lot of text from your PC. The reason for this is that displaying the line numbers takes quite a few calculations (binary to decimal conversion), which take time.</p>
<p>If you are planning to “dump” your source onto the board, then use LOAD and “Load” it. This inserts source without displaying the line numbers.</p>
<hr />
<h2 id="list">List</h2>
<p>Use LIST on its own to list the entire source. Otherwise list one line or a range, for example: Use LIST on its own to list the entire source. Otherwise list one line or a range, for example:</p>
<pre><code>L
L42
L50-60</code></pre>
<p>As an alternative, for exporting your file back to your PC/Mac, use SAVE to save the source. This lists it without line numbers, suitable for copying from your terminal program and pasting back into a text editor on your PC.</p>
<p>Press Ctrl+C to abort a long listing.</p>
<p>Control characters in the source are shown with a carat before them. For example if you had 0x01 in your source it would show as ^A if you listed it.</p>
<hr />
<h2 id="replace">Replace</h2>
<p>This lets you replace one string with another, either in a range of lines or the whole source. You might want to rename a variable with this, for example. You need to specify the “find” string and the “replace” string, separated by a delimiter of your choice. The string delimiter can be any single character which is not a letter, number or space.</p>
<p>There are options you can place after the third delimiter:</p>
<ul>
<li>G - global: find and replace multiple occurrences on one line</li>
<li>I - ignore case: match on both upper and lower-case versions of the target string</li>
<li>Q - quiet: do not show matching lines, just show the count of matches</li>
</ul>
<p>For example:</p>
<pre><code>R .fish.chips.g
R 1-20 /dog/cat/ i</code></pre>
<hr />
<h2 id="memory">Memory</h2>
<p>This lets you view any part of your RAM or ROM memory. You enter a start and end address, and the bytes in that range are displayed in hex, and also bytes in the range 0x20 to 0x7F are also displayed in ASCII on the right. eg.</p>
<pre><code>: mem $300 $31f
$0300: 7b 20 41 64 76 65 6e 74 75 72 65 2d 73 74 79 6c  {   A d v e n t u r e - s t y l
$0310: 65 20 67 61 6d 65 0a 20 20 41 75 74 68 6f 72 3a  e   g a m e .     A u t h o r :</code></pre>
<p>Press Ctrl+C to abort a long listing.</p>
<hr />
<h2 id="recommendation">Recommendation</h2>
<p>For large-scale changes I suggest keeping a copy of your source on your PC (you need to do this anyway as the board does not have file saving capability). For anything other than small one or two-line changes, it will be quicker and easier to change the source on your PC, and re-download it, rather than fiddling around in the Editor.</p>
<p>The editor does not support cursor keys, so it is not the easiest editor to work with, particularly compared to modern editors available on PC/Macs.</p>
<p>Keeping your original source elsewhere also protects you against rogue code which might overwrite your source, as there is no memory-protection hardware on these chips.</p>
<hr />
<div class="quick_link">
<a href="index.htm">Back to main G-Pascal page</a>
</div>
<hr />
<h2 id="license">License</h2>
<p>Information and images on this site are licensed under the <a href="https://creativecommons.org/licenses/by/3.0/au/">Creative Commons Attribution 3.0 Australia License</a> unless stated otherwise.</p>
</body>
</html>
